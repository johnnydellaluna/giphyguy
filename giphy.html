<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>GIPHTASTIC</title>
</head>
<body>

<div id="buttons-view"></div>

    <div id="main-view"></div>

    <form id="form">
      <label for="user-input">Add a Freakin' Sweet button!</label>
      <input type="text" id="user-input"><br>

      <!-- Button triggers new movie to be added -->
      <input id="add-button" type="submit" value="Submit">
    </form>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">

	var familyGuy = ["Peter Griffin", "Lois Griffin", "Stewie Griffin", "Brian Griffin", "Chris Griffin", "Meg Griffin", "Cleveland Brown", "Quagmire", "Joe Swanson", "Seth Macfarlane", "Mort Goldman", "Carter Pewterschmidt"];

	function displayFGInfo() {
		var stringFG = $(this).attr("data-name");
		var queryURL = "http://api.giphy.com/v1/gifs/search?q=" + stringFG + "&apikey=8b237c30be48443782b51ad1032ba6a2&limit=10&rating=g,pg";

		$.ajax({
          url: queryURL,
          method: "GET"
        }.done(function(response) {
          console.log(response)

      		for (var i = 0; i < results.length; i++) {
            	var newDiv = $("<div>");

	          	var imageUrl = response.data.image_original_url;
	          	var fgImage = $("<img>");
	          	fgImage.attr("src", imageUrl);
	          	fgImage.attr("alt", "Family Guy");
	          	newDiv.append(fgImage);

	          	var rating = response.data.rating;
	          	var fgRating = $("<p>").text("Rating: " + rating);
	          	newDiv.append(fgRating);

	          	("#main-view").prepend(newDiv)
      		}
      	}));

    function renderButtons() {
    	$("#buttons-view").empty();
        
        for (var i = 0; i < familyGuy.length; i++) {
        	var a = $("<button>");
          
          a.addClass("stringFG");
          
          a.attr("data-name", familyGuy[i]);
          
          a.text(familyGuy[i]);
          
          $("#buttons-view").append(a);
        }
      }

      
      $("#add-button").on("click", function(event) {
        event.preventDefault();
        
        var stringFG = $("#user-input").val().trim();

        familyGuy.push(stringFG);
       
        renderButtons();
    });
      


</script>
	
</body>
</html>